import{d as v,c as I,w as k,o as n,a as o,t,u as s,e as i,f as _,g as r,q as b,y as f,h as S,F as T,x as $}from"./app-CNFf23ER.js";import{_ as A}from"./AppLayout-euiK5BS0.js";import{L as m}from"./Logger-DtF2tIuy.js";import{G as E,I as g,a as O,F as x,P as h,b as F}from"./Reservation-eKo339vd.js";import{a as p,T as N}from"./Toast-B_HUPplE.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./sweetalert2.all-EiqWMFwt.js";const V={class:"font-semibold text-xl text-gray-800 leading-tight"},j={class:"py-6"},B={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"max-w-lg mx-auto bg-white rounded-xl shadow-md overflow-hidden md:max-w-3xl m-5"},z={class:"p-8 flex items-center"},D={class:"pr-4"},L={key:0,class:"text-4xl font-bold"},P={key:1,class:"tesxt-4xl font-bold"},G={key:2,class:"text-4xl font-bold"},U={class:"uppercase tracking-wide text-indigo-500 font-semibold text-lg"},q={class:"font-bold text-indigo-400 text-base"},M={class:"mt-2 text-gray-500"},W={class:"mt-2 text-gray-500"},J={key:0},K={class:"mt-2 text-lg text-gray-600"},Q={class:"font-semibold"},X={class:"p-8 grid grid-cols-3 gap-3"},Y=["for"],Z={class:"text-gray-700"},ee={class:"font-bold text-black"},oe=o("span",{class:"text-xs"},"asignada",-1),te=["value","id"],se=["for"],ae={class:"text-gray-700"},le={class:"font-bold text-black"},ne=["value","id"],ve={__name:"CheckinIndex",props:{Reservation:Object,AvailableRooms:Object},setup(y){const a=y,e=v(a.Reservation),C=v(a.AvailableRooms),l=v([]);e.value.room_id&&l.value.push(e.value.room_id),e.value.nights=E(e.value.checkin,e.value.checkout);const R=()=>{if(l.value.length==0){p("Selecciona al menos una habitación");return}if(a.Reservation.rooms!=l.value.length){p("Selecciona el número de habitaciones correcto");return}$.post(route("admin.reservations.arrivals.checkin",e.value.id),{rooms:l.value}).then(d=>{N("Checkin realizado"),m("CheckinIndex:RESPONSE:43",d.data)}).catch(d=>{m("CheckinIndex:ERROR:45",d),p("Error al realizar el checkin")})};return m("CheckinIndex:Arrival:17",a.Reservation),m("CheckinIndex:Rooms:18",a.AvailableRooms),(d,u)=>(n(),I(A,{title:"Checkin"},{header:k(()=>[o("h2",V," Sistema hotelero / "+t(s(g)(e.value.checkin)?"Checkin":"Checkout")+" - "+t(e.value.guests.full_name),1)]),default:k(()=>[o("div",j,[o("div",B,[o("div",H,[o("div",z,[o("div",D,[s(g)(e.value.checkin)?(n(),i("p",L,"CI")):(n(),i("p",P,"RE")),s(O)(e.value.checkout)?(n(),i("p",G,"CO")):_("",!0)]),o("div",null,[o("div",U,[r(t(s(x)(a.Reservation.checkin))+", ",1),o("span",q,t(`${e.value.nights} ${s(h)("noche",e.value.nights)} - ${e.value.rooms} ${s(h)("habitación",e.value.rooms)} ${e.value.room_type.name} (${e.value.room_type.room_type})`),1)]),o("p",M,t(s(x)(a.Reservation.checkin))+" - "+t(s(x)(a.Reservation.checkout)),1),o("p",W,[o("p",null,"A nombre de: "+t(e.value.guests.full_name),1),o("p",null,[r(t(e.value.adults)+" "+t(s(h)("adulto",e.value.adults)),1),e.value.kids>0?(n(),i("span",J,", "+t(s(h)("niño",e.value.kids))+" "+t(e.value.kids),1)):_("",!0)]),o("p",K,[r(" Total: "),o("span",Q,t(s(F)(e.value.total)),1)])])])]),o("div",X,[e.value.room_id&&e.value.room?(n(),i("label",{key:0,for:e.value.room,class:"flex-1 flex space-x-2 justify-between items-center rounded-md px-2 py-1 border border-gray-400"},[o("span",Z,[r("Habitación "),o("span",ee,t(e.value.room.room),1),r(),oe]),b(o("input",{checked:"cheked",class:"rounded-2xl",type:"checkbox",value:e.value.room.id,id:e.value.room.room,"onUpdate:modelValue":u[0]||(u[0]=c=>l.value=c)},null,8,te),[[f,l.value]])],8,Y)):_("",!0),(n(!0),i(T,null,S(C.value.rooms,c=>(n(),i("label",{for:c.room,class:"flex-1 flex space-x-2 justify-between items-center rounded-md px-2 py-1 border border-gray-400"},[o("span",ae,[r("Habitación: "),o("span",le,t(c.room),1)]),b(o("input",{class:"rounded-2xl",type:"checkbox",value:c.id,id:c.room,"onUpdate:modelValue":u[1]||(u[1]=w=>l.value=w)},null,8,ne),[[f,l.value]])],8,se))),256))])]),o("div",{class:"md:max-w-3xl mx-auto"},[o("button",{onClick:R,class:"w-full py-2 px-4 bg-sky-500 text-white hover:bg-sky-600 hover:shadow-md transition-all duration-200 font-medium rounded-md mb-4"}," Hacer checkin ahora ")])])])]),_:1}))}};export{ve as default};
